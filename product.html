<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
    margin: 0px;
     padding: 0px;
     font-family: 'Roboto', Arial, Helvetica, sans-serif;
   }
   #logo, #sm, #entry{
     /* border: 1px solid black; */
     height: 90px;
     width: 35%;
     margin-top: 5px;
     /* display: flex; */
   
   }
   #entry>div>img{
      
       width:60px;
       height: auto;
   }
   #entry{
       
      display: flex;
      justify-content: flex-end;
      align-items: center;
   }
  
   
   #sm img{
     /* border: 1px solid green; */
     height: 50%;
     margin-top: 25px;
     margin-left: 10px;
     
   }
   
   #sm a:nth-child(1){
     margin-left: 100px;
     
   }
   .header{
     /* border: 1px solid red; */
     width: 80%;
     height: 100px;
     margin: auto;
     display: flex;
   }
   #topp {
    display: flex;
    width: 1500px;
    height: 110px;
    margin: auto;
    justify-content: space-between;
    /* border: 1px solid black; */
  }
  #topp > div {
    text-align: center;
  }
  #h41 > h4 {
    font-weight: bold;
    margin-left: 150px;
    
  }
  #bigcontainer{
      width: 80%;
     
      margin: auto;
      display: flex;
      justify-content: space-between;
  }
 
  #container {
    width: 100%;
    padding: 10px 0px 10px 0px;
    display: flex;
    margin-bottom: 45px;
    height: 45px;
    align-content: center;
    background-color: #f1f1f1;
    margin-bottom: 30px;
    border-radius:10px;
    border: 1px solid red;
  }
  #container > div {
    display: flex;
    font-size: 12px;
    align-items: center;
    font-size : 15px;
    color: #999999;
  
   
  }

  #container > div:nth-child(1) {
    margin-left:10px;
    
  }
  #container > div:nth-child(2) {
    margin-left:325px;
  }
  
  #container > div:nth-child(3) {
    margin-left:80px ;
  }
  
  #container > div:nth-child(4) {
    margin-left: 80px;
  }
  
  #container > div:nth-child(5) {
    margin-left: 60px;
  }
  #totalcontainer{
      width: 27%;
      box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;
      border-radius: 10px;
      
      padding : 20px;
      margin-left: 10px;
      height: 420px;
      border: 1px solid red;
  }
  #price_flex{
      display: flex;
      justify-content: space-between;
  }
  #coupon_flex{
      display:flex;
      justify-content: space-between;
     

  }
  /* #coupon_flex>button{
      padding: 8px 13px 8px 13px;
      background-color: gray;
      border: none;
      color: white;
      border-radius: 10px;
      
  } */
  #checkout{
      width: 100%;
      height: 45px;
      margin-top: 20px;
      background-color: green;
      border-radius: 10px;
      border: none;
      color: white;
      font-weight: bolder;

  }
  #checkout:hover{
    background-color: rgb(97, 195, 163);
    cursor: pointer;
  }
  #acceptpay{
      width: 100%;
      height: auto;
      margin-top: -15px;
    
  }
  
#acceptpay>img{
width: 100%;
height: auto;


}
#paradis{
    font-size: 13.6px;
    margin-top:3px;
}
#cart {
   width: auto;
    margin: auto;
  }
  
  #imgCon{
    width: 100px;
    height: auto;
  }
  #imgIn{
    width: 100%;
  }
  th,
td {
  padding: 25px;
}

/* Gautam's CSS */
#imgCon {
  height: 110px;
  width: 110px;
  display: flex;
  justify-content: center;
  margin-top: 5px;
  margin-bottom: 5px;

}

#imgIn {
  height: auto;
  width:90%;
  padding: 15px;
   
}
#name {
  font-size: 14px;
  width: 550px;
}

/* td {
  border: 1px solid red;
} */
#body > tr {
  margin-bottom: 30px;
}

.spaceBetweenTd > td {
  box-sizing: border-box;
}
#divQ {
  display: flex;
}

.incdc {
  height: 30px;
  width: 30px;
  border: 0;
  background-color: white;
  border: 1px solid #e9e9e9;
  color: #081442;
}
#qunt {
  margin: 0;
  width: 70px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #e9e9e9;
  color: #081442;
  font-size: 17px;
}
#delete{
  padding: 8px 13px 8px 13px;
  border-radius: 10px;
   color: #999999;
   font-weight: bolder;
   background-color: white;
   border-color:red;
   color:red;
   border: 1px solid red;
}
#delete:hover{
  background-color:red;
  color: white;
  border: none;
  cursor: pointer;
}
#Apply{
  padding: 8px 13px 8px 13px;
  border-radius: 10px;
   color: #999999;
   font-weight: bolder;
   background-color: white;
   border-color:green;
   border: 1px solid green;
   color: green;
  
}
#Apply:hover{
  background-color: green;
  color: white;
  border: none;
  cursor: pointer;
 
}
#promo{
  border-radius: 10px;
  text-align: center;
  border: 1px solid gray;
  font-weight: bolder;
}
  #hovertorow:hover{
    box-shadow: rgba(0, 0, 0, 0.2) 0px 0px 0px 1px;
    
  }
  #hovertorow:focus{
    box-shadow: rgba(0, 0, 0, 1) 0px 0px 0px 1px;
  }
  #disc{
    display: flex;
    justify-content: space-between;
    margin-top: -20px;

  }
  #realp{
    display: flex;
    justify-content: space-between;
    margin-top: -20px
    
  }
  #discount{
    font-weight: 400;
    font-size: 16px;
    color: green;
    
  }
  #paradis{
    font-size: 13px;
  }
  #dimag{
    margin-right: 40px;
    margin-top: -10px;
   
  }#lastflex{
    margin-top: 40px;
    margin-right: 20px;
  }
  #nav{
        height:50px;
        width: 100%;
        border: 1px solid red;
       margin-bottom: 10px;
        background-color: rgb(218, 40, 69);
        display: flex;
        justify-content: space-around;
        align-items: center;
       }
      #nav>div{
      padding-right:30PX ;
        color: white;
      }
    #nav>div>select{
        margin-left: 30px;
        padding: 7px 5px;
        color: white;
        background-color: rgb(218, 40, 69);
        border: transparent;
        font-size: 16px;
       
    }
    #navupper{
            height: 100px;
            width: 100%;
            display: flex;
            background-color: white;
            border: transparent;
            box-shadow: rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px;

        }
        #navupper>div{
            height: 100px;
            width: 25%;
            border: transparent;
            margin-left: 90px;
        }
        #navupper>div>img{
            margin-top: 10px;
            height: 80%;
            width: 100%;
        }
        #navupper>div>select{
           height: 40px;
           margin-left: 30px;
           margin-top: 31px;
           padding:0px 45px;
           color:rgb(175, 161, 161);
        }
        #search{
            height: 37px;
            margin-top: 30px;
            padding: 0px 45px;
            margin-left: 5px;
            color:rgb(175, 161, 161);
        }
        #acco{
             height: 10px;
            width: 30%;
            border: transparent;
            margin: auto;
            display: flex;
            margin-left: 40px;
        }
        #icon{
            height: 40px;
            width: 10%;
            border: 1px solid black;
            margin-top: 30px;
        }
        #icon>img{
            height: 100%;
            width: 100%;
        }
        #myacc{
            height: 40px;
            width: 10%;
            border: none;
            margin-top: 30px;
            margin-left: 30px;
            box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;
        }
       
        #myacc>img{
            height: 100%;
            width: 100%;
        }
        #my{
            height: 40px;
            width: 30%;
            border: transparent;
            margin-left: 3px;
            margin-top: 30px;
           
        }
        #my>p{
            text-align: center;
            margin-top: 6px;
            font-size: 18px;
        }
        #login{
            text-align: center; 
            margin-top: 35px;
            font-size: 20px;
        }
        #sele{
            height: 37px;
        margin-top: 30px;
        padding: 0px 20px;
        background-color: rgb(222, 219, 219);  
        }
        #sel{
            height: 35px;
            margin-left: 5px;
            border: 1px solid grey;
        margin-top: 28px;
        padding: 0px 20px;
        background-color: rgb(222, 219, 219); 
        }
    </style>
</head>
<body>

    <div id="navupper">
        <div>
         <img alt="a" src="https://www.beautybebo.com/pub/media/logo/default/beautybebo_1.png">
        </div>
        <select id="sele">
         <option value="All CATEGORIES">
              All CATEGORIES
         </option>
         <option value="makeup">---makeup</option>
         <option value="Hair">---Hair</option>
         <option value="Brush">----Brush</option>
         <option value="Face">----Face</option>
         <option value="foundation">----Foundation</option>
         <option value="Makeup Remover">----Makeup Remover</option>
         <option value="BB cream">--------BB Cream</option>
         <option value="Loose Powder">------Loose Powder</option>
        </select>
        <input id="sel" type="text" placeholder="Enter your search">
        <div id="acco">
         <div id="icon">
             <img alt="econ" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAACBCAMAAADQfiliAAAAZlBMVEX19fUAAAD////8/Pz5+fnc3Ny2trbu7u7i4uKgoKDp6emPj49UVFSEhIR4eHiAgIBERETLy8s1NTW8vLywsLBJSUlnZ2cpKSlsbGwXFxdycnLCwsKWlpbR0dFaWlo7OzsMDAwiIiIRRaAIAAADcElEQVR4nO2aabeiMAyGaRMVcBdFcff//8kBdeaiLEm66Nxz+nzuCS9p2iZpoygQCAQCgUDgV4IIoEFrAOSNroZqQM5ojkGA0TKZzvazeZLFlIhydHp4jj6kPMn9gB4cF+qH7fTQYxb0cnypjV6NTxqsvo+YbdQ7RTLS7d+P1tvG6NU6stAAy0nD4t1qEjXdgDhctI5eZKYBgThvtVixid9/DNJz5+h8ZCQBBk2X1kheZ0JnfYPVqX3eeiFMKrWv/RfClBi9FkuAIWFSqfO/YECckaMToQQ4kCZrEhgCpF6AAcNkKeER5MARoNRBsCoxXbFsql1lVFMx8KQY8FcE7Hk2lToCJ2KenFt2kQ4B1DKosdQxfzA7GrHgG93GzW27m5TnBEgENtVNMnjODMarxKgMlhNg7U+AGrMiof08dMNqRH8feZuRKQd6GuDoVcGMngbtcxKUutCTEPdmBdZcT9Q04NKrAKWG1JbgdS1WHKlA8ByI5XFKKdDsY9GQC6mgO+N1w41UIDnqTChIBRfaiBXXX+CD78cBL+81Z/H/7wf8zNeQI7Ur48mzgow8mdJvn40R+F2OFzpN02OvCnI6R/IcCGR6UDLyuS9fY0bBQLZDbMhZLVGf6XrGKtuwvSnngoLzfa+p4phZuUqqdxnM6j3SovJdwJTdzPK0IG+cpfjAUyTwSvcH6KN45FTuPwp87AmSfqKX82kvu2ZAZPY0+Ug7/M7nQTYHFdrteiBL5hZkbUWCudEli8No3BlednGb5iSM1KwDcOOFvcXlK7rwQs5u6rehc2sBG7vrZ9Q7SwETKw9UEiK7xtLZ7LLzVYLNRGy4WVGvBDSv4272HnhIMM0WVm4EVPW0mYQLPyujJZhMxHZg9/jhVcLoJlfQeCBgKUGaPhcuPXCXEMskFCfHAsgHEe8snQsoJQiud70IqLzAriflSSFTwokpgdclMJLAu4Ti9IqMJXDaXD4FlBkL/T5F/upGBvk6QvrmxkBCf+s7cXYYdaP7JJCdczcSuus5SY/CSkJXPTf9iAcqOkpK7isTF+i2uyBhi8JWQrOey/UHlkGNRv97Z1uZSHl/wGlXHJpJeHm8ZlkcGlIrKb8joOSvhImrykQKRo9L6oWL4tBQwr2kdFabmUnIi8n3PHCXEMWfX4YNDYFAIBAIBAKO+QPGGi6L8Q2raQAAAABJRU5ErkJggg==">
         </div>
        <div id="myacc">
            <img alt="a" src="https://image.shutterstock.com/display_pic_with_logo/191967308/1691909635/stock-vector-people-and-person-icon-people-icon-with-modern-flat-design-people-vector-icon-isolated-on-white-1691909635.jpg">
            
         </div>
         <div id="my"><p>My Account</p></div>
         <div ><a href="signin.html"><p id="login">Login</p></a></div>
        </div>
     </div>
    
    <div id="nav">
        <div><select id="MAKEUP">
       <option value="MAKEUP">MAKEUP</option>
        </select></div>
        <div>
           <select id="SKIN">
               <option value="SKIN">
                   SKIN
               </option>
           </select>
        </div>
        <div>
           <select id="HAIR">
               <option value="HAIR">
                   HAIR
               </option>
           </select>
        </div>
        <div>
        <select id="PERSONALCARE">
           <option value="PERSONALCARE">
               PERSONALCARE
           </option>
       </select></div>
        <div>
           <select id="MOM&BABY CARE">
               <option value="MOM$BABY CARE">
                  MOM&BABY CARE
               </option>
           </select>
        </div>
        <div>
           <select id="FRAGRANCE">
               <option value="FRAGRANCE">
                   FRAGRANCE
               </option>
           </select>
        </div>
        <div>
           <select id="AYURVEDA">
               <option value="AYURVEDA">
                  AYURVEDA
               </option>
           </select>
        </div>
        <div>
           <select id="BRANDS">
               <option value="BRANDS">
                 BRANDS
               </option>
           </select>
        </div>
        <div>
        MYCART
        </div>
       </div>

      <div id = "bigcontainer">
          <div id = midcontainer>
            <div id="container">
            
                <div>Product Name</div>
           
                <div>Unit price</div>
               
                <div>Total</div>
               
             
               
              </div>
              <div id="cart">
                <main>
                  <table>
                    <thead></thead>
                    <tbody id="body"></tbody>
                  </table>
                </main>
              </div>
          </div>
       


        <div id = "totalcontainer">
            <h2>TOTAL</h2>
            <hr>
            <div id = "price_flex">
                <h4>Sub-total :</h4>
                <h3 id = "total-p"></h3>
             
            </div>
            <div id = "disc">
              <h4 id = "discoun"></h4>
              <h3 id = "discount"></h3>
            </div>

            <div id = "realp">
              <h3 id = "realprice"></h3>
              <h3 id =  "totalr"></h3>

            </div>

            <div id = "coupon_flex">
                <input id = "promo" type = "text" placeholder = "Apply Promo">
                <button id = "Apply">Apply</button>
            </div>
            <hr>
           <a href = "homepage.html"><button id = checkout>PAY NOW</button></a>
            <h4>WE ACCEPT</h4>
            <div id = "acceptpay">
                <img
                src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPObq3geMYUM5tBp5bYZ4ellfEFNHuYVk-E4xVXTFOC8m2iNyjRIPwpwaKAhSt7dF9kA&usqp=CAU"
              />

            </div>
            <p id = paradis>Got a discount code? Add it in the next step</p>
        </div>
       
      </div>




</body>
</html>
<script>

var cartarray=JSON.parse(localStorage.getItem('cartdata'))|| [] 

console.log(cartarray)

displayData(cartarray);
function displayData(cartarray) {
  
document.querySelector("#body").innerHTML = null;
    cartarray.forEach(function(elem,index){
        var row = document.createElement("tr");
          row.setAttribute("id","hovertorow");
        var div = document.createElement("div");
        div.setAttribute("id","imgCon");
      
        var img = document.createElement("img");
        img.setAttribute("src",elem.image);
        img.setAttribute("id","imgIn");
        div.append(img);
        var td1 = document.createElement("td");
        td1.setAttribute("id","name");

       

        td1.innerText = elem.productName;


        var td2 = document.createElement("td");
        td2.innerText = elem.Price;
        var td3 = document.createElement("td");
        let divQ = document.createElement("div");
        divQ.setAttribute("id","divQ");
        
        divQ.style.display = "flex"
        let increase = document.createElement("button")
         increase.addEventListener("click",function(){
             incQuant(elem,index);
         })
         increase.innerText = "+";
         increase.setAttribute("class", "incdc");
         let qunt = document.createElement("p");
         qunt.innerText = elem.quantity;
         qunt.setAttribute("id","qunt");
         let decrease = document.createElement("button");
            decrease.addEventListener("click",function(){
                decQuant(elem,index);
            });
            decrease.innerText = "-";
            decrease.setAttribute("class","incdc");
            divQ.append(decrease,qunt,increase);
            td3.append(divQ);


            var td6 = document.createElement("td");
             var split = elem.Price
        
           
            
            td6.innerText = elem.Price;
             td6.setAttribute("id","totalQP");
             var td7 = document.createElement("td");
             let btn = document.createElement("button");
            btn.setAttribute("id", "delete");
            btn.innerText = "Remove";
        
            td7.append(btn);
            btn.addEventListener("click",function(){
                deleteItem(index);
            })
            row.setAttribute("class","spaceBetweenTd");
            row.append(div,td1,td2,td3,td6,td7);
            document.querySelector("tbody").append(row);
    })
}
showTotal();
function incQuant(elem,index){
    document.querySelector("#qunt").innerText = elem.quantity++;
 localStorage.setItem("cartdata",JSON.stringify(cartarray));
 console.log(elem.quantity)
   showTotal();
  
    displayData(cartarray);
    console.log('incaman')
}
function decQuant(elem,index) {
    if (elem.quantity > 1) {
        document.querySelector("#qunt").innerText = elem.quantity--;
    // here we have to send data to local storage
   showTotal();
   
} else{
  
  document.querySelector("#qunt")[index].innerText = 1;
 localStorage.setItem("cartdata",JSON.stringify(cartarray));
}

displayData(cartarray)
}
function showTotal(){
    var total = cartarray.reduce(function(acc,ele){
        var split = ele.Price
      
        return acc+ split *ele.quantity;
    },0);

   document.querySelector("#total-p").innerText = Math.floor(total) + " $";
    localStorage.setItem("totalprice",total);
    var count = 0;
    document.querySelector("#Apply").addEventListener("click", check)
    function check(){
       
        var value= document.querySelector("#promo").value
      
         if(value == "kindmeal30" ){
             document.querySelector("#totalcontainer").style.height= "auto";
            document.querySelector("#total-p").style.textDecoration = "line-through"
            document.querySelector("#total-p").style.color = "gray"
            document.querySelector("#total-p").style.fontWeight = "400"
            count++;
            if(count == 1){
                var  dis = total*30/100
                document.querySelector("#discoun").innerText = "Discount :"
                document.querySelector("#discount").innerText = "- "+dis + " $";
              
            total = total-dis
            console.log(total)
            document.querySelector("#realprice").innerText = "Estimated Total :";
            document.querySelector("#totalr").innerText = Math.floor(total) + " MYR";
         
            localStorage.setItem("totalprice",total);
            }
           
         }
         else{
            document.querySelector("#total-p").innerText = Math.floor(total) + " MYR";
            localStorage.setItem("totalprice",total);
         }
    }


    // send all the data into the local storage
  }
function deleteItem(index){
   cartarray.splice(index,1);
        //here set the local storage 
        localStorage.setItem("cartdata", JSON.stringify(cartarray));
      displayData(cartarray);
      showTotal();
    }
</script>